<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Find Percentage Symbol</title>
  <style>
    #csu {
      margin: 10px;
      padding: 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
 
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js" async>
  {
  "symbol": "TSX:CSU",
  "width": "350",
  "isTransparent": false,
  "colorTheme": "dark",
  "locale": "en"
}
  </script>
</div>
<!-- TradingView Widget END -->

  

<!-- Sample HTML content -->
<p>16% Discount</p>
<p>75% off today</p>
<p>No percentage here</p>

<!-- Container for displaying extracted text -->
<div id="csu"></div>

<script>

  /*
  // Select the containers
  var widgetContainer = document.getElementById('widget');
  var csuContainer = document.getElementById('csu');

  // Search for the text "csu" in the "widget" container
  var containsCsuText = widgetContainer.textContent.includes('CSU');

  // Display the result in the "csu" container
  csuContainer.textContent = containsCsuText ? 'true' : 'false';
*/

  setTimeout(executeAfterPause, 3000);

  function executeAfterPause() {
     var csuContainer = document.getElementById('csu');

     var widgetContainer = document.getElementsByClassName('tradingview-widget-container');

    
      var searchText = "CSU";
    // Get all the text content on the page
    var pageText = document.body.innerText || document.body.textContent;
   // var pageText = widgetContainer.textContent;
   // var pageText = widgetContainer.pageText;
    // Convert both the search text and page text to lowercase for case-insensitive search
   // var searchTextLower = searchText.toLowerCase();
   // var pageTextLower = pageText.toLowerCase();

  csuContainer.textContent = "pageText: " + pageText;

    // Check if the search text is present on the page
   // if (pageTextLower.includes(searchTextLower)) {

  //    csuContainer.textContent ="true";
     // alert('Text found on the page: ' + searchText);
   // } else {
 //    csuContainer.textContent = "false";
     
     //   alert('Text not found on the page: ' + searchText);
   // }
  }
</script>

</body>
</html>
